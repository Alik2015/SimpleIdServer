@using Fluxor.Blazor.Web.Components;
@using SimpleIdServer.IdServer.Website.Resources;
@using SimpleIdServer.IdServer.Website.Stores.IdentityProvisioningStore;
@inherits FluxorComponent
@inject IDispatcher dispatcher
@inject DialogService dialogService
@inject NotificationService notificationService

<EditIdentityProvisioning IdProvisioningSaved=@SaveIdProvisioning IdProvisioning=@IdProvisioning IdProvisioningDef=@IdProvisioning?.Definition IsAddForm=false />

@code {
    [Parameter]
    public SimpleIdServer.IdServer.Domains.IdentityProvisioning IdProvisioning { get; set; }

    void SaveIdProvisioning(IEnumerable<IdentityProvisioningProperty> properties)
    {
        var act = new UpdateIdProvisioningPropertiesAction { Id = IdProvisioning.Id, Properties = properties };
        dispatcher.Dispatch(act);
    }
}